<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è±†èŠ±é»é¤å°å¹«æ‰‹</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #e8f4f8 0%, #d4e8f0 25%, #c0dce8 50%, #b0d0e0 75%, #d4e8f0 100%);
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        /* ç«‹å†¬æ¼‚æµ®è£é£¾ - é›ªèŠ±ã€æ¥“è‘‰ã€æš–é™½ */
        body::before {
            content: 'â„ï¸ ğŸ‚ â˜€ï¸ ğŸŒ¨ï¸ ğŸ â˜ï¸ ğŸŒ¾ â›„ â„ï¸ ğŸ‚ â˜€ï¸ ğŸŒ¨ï¸';
            position: fixed;
            top: -50px;
            left: 0;
            width: 100%;
            height: 100%;
            font-size: 32px;
            opacity: 0.3;
            pointer-events: none;
            z-index: 1;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            align-items: flex-start;
            gap: 80px;
            animation: floatingWinter 25s linear infinite;
        }

        @keyframes floatingWinter {
            0% { 
                transform: translateY(-100px) rotate(0deg);
            }
            100% { 
                transform: translateY(calc(100vh + 100px)) rotate(360deg);
            }
        }

        /* æš–å†¬å…‰æšˆæ•ˆæœ */
        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(100, 181, 246, 0.2) 15px, transparent 15px),
                radial-gradient(circle at 75% 35%, rgba(77, 182, 172, 0.18) 20px, transparent 20px),
                radial-gradient(circle at 45% 65%, rgba(255, 183, 77, 0.15) 12px, transparent 12px),
                radial-gradient(circle at 85% 75%, rgba(129, 199, 212, 0.22) 18px, transparent 18px),
                radial-gradient(circle at 15% 80%, rgba(174, 213, 129, 0.17) 14px, transparent 14px),
                radial-gradient(circle at 60% 20%, rgba(100, 181, 246, 0.2) 16px, transparent 16px);
            background-size: 
                250px 250px,
                220px 220px,
                280px 280px,
                200px 200px,
                260px 260px,
                240px 240px;
            animation: winterGlow 20s ease-in-out infinite;
            z-index: 0;
            opacity: 0.6;
        }

        @keyframes winterGlow {
            0%, 100% { 
                transform: translate(0, 0) scale(1);
                opacity: 0.6;
            }
            33% { 
                transform: translate(-12px, -18px) scale(1.08);
                opacity: 0.75;
            }
            66% { 
                transform: translate(15px, -12px) scale(0.95);
                opacity: 0.5;
            }
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            border-radius: 28px;
            box-shadow: 
                0 20px 50px rgba(77, 182, 172, 0.3),
                0 0 0 3px rgba(129, 199, 212, 0.3),
                0 0 30px rgba(100, 181, 246, 0.2);
            width: 100%;
            max-width: 450px;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
            animation: winterAppear 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 10;
        }

        @keyframes winterAppear {
            0% {
                opacity: 0;
                transform: scale(0.7) translateY(50px) rotate(-5deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) translateY(0) rotate(0deg);
            }
        }

        .header {
            background: linear-gradient(135deg, #4db6ac, #26a69a, #00897b);
            padding: 35px 30px;
            text-align: center;
            position: relative;
            box-shadow: 0 4px 20px rgba(0, 137, 123, 0.4);
        }

        .header::before {
            content: 'â„ï¸';
            position: absolute;
            font-size: 40px;
            opacity: 0.2;
            animation: snowFloat 3s ease-in-out infinite;
        }

        .header::before {
            top: 10px;
            left: 20px;
        }

        @keyframes snowFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(10deg); }
        }

        .header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 25px;
            background: linear-gradient(135deg, #4db6ac, #26a69a, #00897b);
            clip-path: polygon(
                0 0, 5% 15px, 10% 0, 15% 20px, 20% 5px, 25% 18px, 
                30% 0, 35% 15px, 40% 8px, 45% 20px, 50% 0, 55% 17px,
                60% 5px, 65% 20px, 70% 0, 75% 15px, 80% 10px, 85% 20px,
                90% 0, 95% 18px, 100% 5px, 100% 25px, 0 25px
            );
        }

        h1 {
            color: white;
            font-size: 28px;
            font-weight: 700;
            text-shadow: 
                2px 2px 4px rgba(0, 137, 123, 0.5),
                0 0 15px rgba(77, 182, 172, 0.4);
            margin-bottom: 8px;
            animation: winterBounce 2s ease-in-out infinite;
        }

        @keyframes winterBounce {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-4px) scale(1.02); }
        }

        .subtitle {
            color: rgba(255, 255, 255, 0.95);
            font-size: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: 600;
        }

        .form-content {
            padding: 40px 30px;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(224, 247, 250, 0.3) 100%);
        }

        .form-group {
            margin-bottom: 28px;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 12px;
            font-weight: 600;
            color: #00897b;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .form-group label i {
            color: #26a69a;
            width: 16px;
        }

        .required::after {
            content: ' *';
            color: #ff6b6b;
            font-weight: bold;
        }

        input[type="text"], select {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid #b2dfdb;
            border-radius: 14px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: #f0fffe;
        }

        input[type="text"]:focus, select:focus {
            outline: none;
            border-color: #26a69a;
            box-shadow: 0 0 0 5px rgba(38, 166, 154, 0.15), 0 0 20px rgba(77, 182, 172, 0.1);
            transform: translateY(-2px);
        }

        select {
            cursor: pointer;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2326a69a' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 12px center;
            background-repeat: no-repeat;
            background-size: 18px;
            background-color: #f0fffe;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }

        .checkbox-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
            margin-top: 12px;
        }

        .checkbox-item {
            position: relative;
        }

        .checkbox-item input[type="checkbox"] {
            display: none;
        }

        .checkbox-item label {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            background: #f0fffe;
            border: 2.5px solid #b2dfdb;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            font-weight: 500;
            font-size: 14px;
            gap: 8px;
            margin-bottom: 0;
            color: #00897b;
        }

        .checkbox-item input[type="checkbox"]:checked + label {
            background: linear-gradient(135deg, #4db6ac, #26a69a);
            border-color: #00897b;
            color: white;
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 6px 20px rgba(0, 137, 123, 0.4), 0 0 15px rgba(77, 182, 172, 0.2);
        }

        .checkbox-item label::before {
            content: '';
            width: 20px;
            height: 20px;
            border: 2.5px solid #26a69a;
            border-radius: 6px;
            background: white;
            transition: all 0.3s ease;
        }

        .checkbox-item input[type="checkbox"]:checked + label::before {
            background: #ff8a65;
            border-color: #ff8a65;
            background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='m13.854 3.646-7.5 7.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6 10.293l7.146-7.147a.5.5 0 0 1 .708.708z'/%3e%3c/svg%3e");
        }

        .radio-group {
            display: flex;
            gap: 15px;
            margin-top: 12px;
        }

        .radio-group.ice-ginger-group {
            gap: 10px;
        }

        .radio-item {
            position: relative;
            flex: 1;
        }

        .radio-item input[type="radio"] {
            display: none;
        }

        .radio-item label {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 14px 20px;
            background: #f0fffe;
            border: 2.5px solid #b2dfdb;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            font-weight: 500;
            gap: 8px;
            margin-bottom: 0;
            color: #00897b;
        }

        .ice-ginger-group .radio-item label {
            padding: 12px 14px;
            font-size: 14px;
        }

        .radio-item input[type="radio"]:checked + label {
            background: linear-gradient(135deg, #80cbc4, #4db6ac);
            border-color: #26a69a;
            color: white;
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 6px 20px rgba(38, 166, 154, 0.4), 0 0 15px rgba(77, 182, 172, 0.3);
        }

        .radio-item label::before {
            content: '';
            width: 20px;
            height: 20px;
            border: 2.5px solid #26a69a;
            border-radius: 50%;
            background: white;
            transition: all 0.3s ease;
        }

        .radio-item input[type="radio"]:checked + label::before {
            background: white;
            border-color: white;
            box-shadow: inset 0 0 0 5px #80cbc4;
        }

        .error-message {
            color: #e91e63;
            font-size: 14px;
            margin-top: 8px;
            display: none;
            padding: 10px 14px;
            background: rgba(233, 30, 99, 0.1);
            border-left: 4px solid #e91e63;
            border-radius: 8px;
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .btn-submit {
            width: 100%;
            padding: 20px;
            background: linear-gradient(135deg, #4db6ac, #26a69a, #00897b);
            color: white;
            border: none;
            border-radius: 14px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            position: relative;
            overflow: hidden;
            margin-top: 25px;
            box-shadow: 0 6px 25px rgba(0, 137, 123, 0.4), 0 0 20px rgba(77, 182, 172, 0.2);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-submit::before {
            content: 'â„ï¸';
            position: absolute;
            font-size: 20px;
            left: -50px;
            top: 50%;
            transform: translateY(-50%);
            animation: snowMove 2s linear infinite;
        }

        @keyframes snowMove {
            0% { left: -50px; opacity: 0; }
            50% { opacity: 1; }
            100% { left: calc(100% + 50px); opacity: 0; }
        }

        .btn-submit::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s ease;
        }

        .btn-submit:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 10px 35px rgba(0, 137, 123, 0.5), 0 0 30px rgba(77, 182, 172, 0.3);
        }

        .btn-submit:hover::after {
            left: 100%;
        }

        .btn-submit:active {
            transform: translateY(-1px) scale(0.98);
        }

        /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                border-radius: 20px;
            }
            
            .header {
                padding: 28px 20px;
            }
            
            .form-content {
                padding: 30px 20px;
            }
            
            .checkbox-grid {
                grid-template-columns: 1fr;
            }
            
            .radio-group {
                flex-direction: column;
            }

            .radio-item {
                width: 100%;
            }
        }

        /* è¼‰å…¥å‹•ç•« */
        .loading {
            opacity: 0.7;
            pointer-events: none;
        }

        .loading .btn-submit {
            background: linear-gradient(135deg, #9e9e9e, #757575);
        }

        .loading .btn-submit::before {
            content: '';
            animation: none;
        }

        .loading .btn-submit::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 22px;
            height: 22px;
            margin: -11px 0 0 -11px;
            border: 3px solid #ffffff;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* å†°æ™¶è£é£¾ */
        .container::before {
            content: 'â„ï¸';
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 35px;
            opacity: 0.25;
            z-index: 1;
        }

        .container::after {
            content: 'ğŸ‚';
            position: absolute;
            bottom: 80px;
            left: 15px;
            font-size: 30px;
            opacity: 0.2;
            z-index: 1;
            transform: rotate(15deg);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-bowl-rice"></i> è±†èŠ±é»é¤å°å¹«æ‰‹(çµ±å…ƒè±†èŠ±)</h1>
            <div class="subtitle">
                <i class="fas fa-heart"></i>
                <span>ç«‹å†¬ç‰¹åˆ¥ç‰ˆ â„ï¸ æš–å¿ƒè±†èŠ±ï¼Œæº«æš–é€²è£œï¼</span>
            </div>
        </div>
        
        <div class="form-content">
            <form id="orderForm">
                <div class="form-group">
                    <label for="name" class="required">
                        <i class="fas fa-user"></i>
                        å§“å
                    </label>
                    <input type="text" id="name" name="name" placeholder="è«‹è¼¸å…¥æ‚¨çš„å§“å" required>
                    <div class="error-message" id="name-error">
                        <i class="fas fa-exclamation-triangle"></i>
                        å§“åç‚ºå¿…å¡«æ¬„ä½
                    </div>
                </div>

				<div class="form-group">
                    <label for="unit" class="required">
                        <i class="fas fa-building"></i>
                        å–®ä½
                    </label>
                    <select id="unit" name="unit" required>
                        <option value="">è«‹é¸æ“‡å–®ä½</option>
                        <option value="ç³»çµ±çµ„">ğŸ’» ç³»çµ±çµ„</option>
                        <option value="è³‡å®‰çµ„">ğŸ”’ è³‡å®‰çµ„</option>
                        <option value="ä½œæ¥­çµ„">ğŸ“‹ ä½œæ¥­çµ„</option>
                        <option value="å…¶ä»–">ğŸ¢ å…¶ä»–</option>
                    </select>
                    <div class="error-message" id="unit-error">
                        <i class="fas fa-exclamation-triangle"></i>
                        è«‹é¸æ“‡å–®ä½
                    </div>
                </div>

                <div class="form-group">
                    <label for="type" class="required">
                        <i class="fas fa-ice-cream"></i>
                        è±†èŠ±ç¨®é¡
                    </label>
                    <select id="type" name="type" required>
                        <option value="">è«‹é¸æ“‡è±†èŠ±ç¨®é¡</option>
                        <option value="è±†èŠ±">ğŸ¥› å‚³çµ±è±†èŠ±</option>
                        <option value="å¸ƒä¸">ğŸ® å¸ƒä¸è±†èŠ±</option>
                        <option value="ä»™è‰">ğŸŒ¿ å«©ä»™è‰å‡</option>
                    </select>
                    <div class="error-message" id="type-error">
                        <i class="fas fa-exclamation-triangle"></i>
                        è«‹é¸æ“‡è±†èŠ±ç¨®é¡
                    </div>
                </div>
				<div class="form-group">
					<label class="required">
						<i class="fas fa-temperature-half"></i>
						è±†èŠ±å†·ç†±
					</label>
					<div class="radio-group">
						<div class="radio-item">
							<input type="radio" id="temp-cold" name="temp" value="å†·" checked>
							<label for="temp-cold">ğŸ§Š å†·</label>
						</div>
						<div class="radio-item">
							<input type="radio" id="temp-hot" name="temp" value="ç†±">
							<label for="temp-hot">ğŸ”¥ ç†±</label>
						</div>
					</div>
				</div>

                <div class="form-group">
                    <label class="required">
                        <i class="fas fa-plus-circle"></i>
                        é…æ–™é¸æ“‡ (æœ€å¤šé¸ä¸‰ç¨®)
                    </label>
                    <div class="checkbox-grid">
                        <div class="checkbox-item">
                            <input type="checkbox" id="peanut" name="topping" value="èŠ±ç”Ÿ">
                            <label for="peanut">ğŸ¥œ èŠ±ç”Ÿ</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="redbean" name="topping" value="ç´…è±†">
                            <label for="redbean">ğŸ”´ ç´…è±†</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="greenbean" name="topping" value="ç¶ è±†">
                            <label for="greenbean">ğŸŸ¢ ç¶ è±†</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="kidney" name="topping" value="å½è±†">
                            <label for="kidney">ğŸŒ± å½è±†</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="tapioca" name="topping" value="ç²‰åœ“">
                            <label for="tapioca">âš« ç²‰åœ“</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="taro" name="topping" value="èŠ‹åœ“">
                            <label for="taro">ğŸŸ£ èŠ‹åœ“</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="tangyuan" name="topping" value="æ¹¯åœ“">
                            <label for="tangyuan">âšª æ¹¯åœ“</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="barley" name="topping" value="è–ä»æ¹¯">
                            <label for="barley">ğŸŒ¾ è–ä»æ¹¯</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="grass" name="topping" value="ä»™è‰">
                            <label for="grass">ğŸŒ¿ ä»™è‰</label>
                        </div>
                    </div>
                    <div class="error-message" id="topping-error">
                        <i class="fas fa-exclamation-triangle"></i>
                        è«‹é¸æ“‡è‡³å°‘ä¸€ç¨®ï¼Œä¸”æœ€å¤šä¸‰ç¨®é…æ–™
                    </div>
                </div>

				<div class="form-group">
					<label>
						<i class="fas fa-snowflake"></i>
						æ˜¯å¦åŠ å†°æˆ–åŠ è–‘
					</label>
					<div class="radio-group">
						<div class="radio-item">
							<input type="radio" id="ice-yes" name="iceginger" value="è¦åŠ å†°" checked>
							<label for="ice-yes">â„ï¸ è¦åŠ å†°</label>
						</div>
						<div class="radio-item">
							<input type="radio" id="ice-ginger" name="iceginger" value="è¦åŠ è–‘">
							<label for="ice-ginger">ğŸŒ±  è¦åŠ è–‘</label>
						</div>
						<div class="radio-item">
							<input type="radio" id="ice-none" name="iceginger" value="éƒ½ä¸åŠ ">
							<label for="ice-none">ğŸ˜Œ éƒ½ä¸åŠ </label>
						</div>
					</div>
				</div>


                <button type="submit" class="btn-submit">
                    <i class="fas fa-paper-plane"></i>
                    é€å‡º
                </button>
            </form>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
		const form = document.getElementById('orderForm');
		const container = document.querySelector('.container');

		const typeSelect = document.getElementById('type');
		const barleyCheckbox = document.getElementById('barley');
		const allToppingCheckboxes = document.querySelectorAll('input[name="topping"]');

		const tempCold = document.getElementById('temp-cold');
		const tempHot = document.getElementById('temp-hot');

		const iceYesRadio = document.getElementById('ice-yes');
		const gingerRadio = document.getElementById('ice-ginger');
		const noneRadio = document.getElementById('ice-none');

		form.addEventListener('submit', function(event) {
			event.preventDefault();

			// éš±è—æ‰€æœ‰éŒ¯èª¤è¨Šæ¯
			const errorMessages = document.querySelectorAll('.error-message');
			errorMessages.forEach(msg => msg.style.display = 'none');

			let isValid = true;

			// æª¢æŸ¥å§“å
			const nameInput = document.getElementById('name');
			if (nameInput.value.trim() === '') {
				document.getElementById('name-error').style.display = 'block';
				nameInput.focus();
				isValid = false;
			}

			// æª¢æŸ¥å–®ä½
			const unitInput = document.getElementById('unit');
			if (unitInput.value.trim() === '') {
				document.getElementById('unit-error').style.display = 'block';
				if (isValid) unitInput.focus();
				isValid = false;
			}

			// æª¢æŸ¥ç¨®é¡
			if (typeSelect.value === '') {
				document.getElementById('type-error').style.display = 'block';
				if (isValid) typeSelect.focus();
				isValid = false;
			}

			// æª¢æŸ¥é…æ–™
			const checkedToppings = document.querySelectorAll('input[name="topping"]:checked');
			if (checkedToppings.length === 0 || checkedToppings.length > 3) {
				document.getElementById('topping-error').style.display = 'block';
				isValid = false;
			}

			if (isValid) {
				// æ·»åŠ è¼‰å…¥æ•ˆæœ
				container.classList.add('loading');

				const name = nameInput.value;
				const unit = unitInput.value;
				const type = typeSelect.value;

				const temp = document.querySelector('input[name="temp"]:checked').value;
				const toppings = Array.from(checkedToppings).map(cb => cb.value).join(', ');
				const iceginger = document.querySelector('input[name="iceginger"]:checked').value;

				setTimeout(() => {
					// Google Forms æäº¤
					const data = {
						'entry.2104530092': name,
						'entry.289096839': unit,
						'entry.989584200': type,
						'entry.868409599': temp,
						'entry.579343790': toppings,
						'entry.736923634': iceginger
						// TODO: è‹¥ Google è¡¨å–®æœ‰æ–°å¢ã€Œè±†èŠ±å†·ç†±ã€æ¬„ä½ï¼Œè«‹åœ¨æ­¤è£œä¸Šå°æ‡‰ entry
						// ä¾‹å¦‚ï¼š'entry.xxxxxx': temp
					};

					$.ajax({
						type: 'POST',
						url: 'https://docs.google.com/forms/u/0/d/e/1FAIpQLSerkIwPeYKcs0WeGqDus8LMkdJHul5hi5pAk_lyruLd8fp65A/formResponse',
						data: data,
						contentType: 'application/json',
						dataType: 'jsonp',
						complete: function() {
							setTimeout(() => {
								container.classList.remove('loading');
								alert('âœ… è³‡æ–™å·²æˆåŠŸé€å‡ºï¼è¬è¬æ‚¨ï¼');
								form.reset();

								// reset å¾Œæ¢å¾©é è¨­ç‹€æ…‹
								tempCold.checked = true;
								updateTempOptions();
								updateToppingAvailability();
								updateIceGingerOptions();
							}, 500);
						}
					});
				}, 1000);
			}
		});

		// æ ¹æ“šè±†èŠ±ç¨®é¡ï¼Œæ§åˆ¶è–ä»æ¹¯å¯ä¸å¯é¸ï¼ˆ#3ï¼‰
		function updateToppingAvailability() {
			const selectedType = typeSelect.value;

			if (selectedType === 'å¸ƒä¸' || selectedType === 'ä»™è‰') {
				barleyCheckbox.disabled = true;
				barleyCheckbox.checked = false;
				barleyCheckbox.parentElement.style.opacity = '0.4';
				barleyCheckbox.parentElement.style.pointerEvents = 'none';
			} else {
				barleyCheckbox.disabled = false;
				barleyCheckbox.parentElement.style.opacity = '1';
				barleyCheckbox.parentElement.style.pointerEvents = 'auto';
			}
		}

		// æ ¹æ“šè±†èŠ±ç¨®é¡ï¼Œæ§åˆ¶å†·/ç†±é¸é …ï¼ˆ#1, #2ï¼‰
		function updateTempOptions() {
			const selectedType = typeSelect.value;

			if (selectedType === 'å¸ƒä¸') {
				// å¸ƒä¸è±†èŠ±æ²’æœ‰ã€Œç†±ã€é¸é …
				tempHot.disabled = true;
				tempHot.checked = false;
				tempHot.parentElement.style.opacity = '0.4';
				tempHot.parentElement.style.pointerEvents = 'none';

				tempCold.disabled = false;
				tempCold.parentElement.style.opacity = '1';
				tempCold.parentElement.style.pointerEvents = 'auto';

				if (!tempCold.checked) {
					tempCold.checked = true;
				}
			} else {
				// å…¶ä»–ç¨®é¡ï¼šå†·ç†±éƒ½å¯ä»¥é¸
				tempHot.disabled = false;
				tempHot.parentElement.style.opacity = '1';
				tempHot.parentElement.style.pointerEvents = 'auto';

				tempCold.disabled = false;
				tempCold.parentElement.style.opacity = '1';
				tempCold.parentElement.style.pointerEvents = 'auto';
			}
		}

		// æ ¹æ“šå†·/ç†± + è±†èŠ±ç¨®é¡ï¼Œæ§åˆ¶ã€Œæ˜¯å¦åŠ å†°æˆ–åŠ è–‘ã€é¸é …ï¼ˆ#4, #5, #6, #7ï¼‰
		function updateIceGingerOptions() {
			const tempRadio = document.querySelector('input[name="temp"]:checked');
			const currentTemp = tempRadio ? tempRadio.value : null;
			const selectedType = typeSelect.value; // 'è±†èŠ±', 'å¸ƒä¸', 'ä»™è‰' æˆ– ''

			// å…ˆå…¨éƒ¨æ¢å¾©å¯é¸
			[iceYesRadio, gingerRadio, noneRadio].forEach(r => {
				r.disabled = false;
				r.parentElement.style.opacity = '1';
				r.parentElement.style.pointerEvents = 'auto';
			});

			if (!currentTemp) return;

			if (currentTemp === 'å†·') {
				// å†·ï¼šåªèƒ½ã€Œè¦åŠ å†°ã€æˆ–ã€Œéƒ½ä¸åŠ ã€ï¼ˆ#5ï¼‰
				gingerRadio.disabled = true;
				gingerRadio.checked = false;
				gingerRadio.parentElement.style.opacity = '0.4';
				gingerRadio.parentElement.style.pointerEvents = 'none';

				if (!iceYesRadio.checked && !noneRadio.checked) {
					iceYesRadio.checked = true;
				}
			} else if (currentTemp === 'ç†±') {
				if (selectedType === 'è±†èŠ±') {
					// ç†± + å‚³çµ±è±†èŠ±ï¼šåªèƒ½ã€Œè¦åŠ è–‘ã€æˆ–ã€Œéƒ½ä¸åŠ ã€ï¼ˆ#6ï¼‰
					iceYesRadio.disabled = true;
					iceYesRadio.checked = false;
					iceYesRadio.parentElement.style.opacity = '0.4';
					iceYesRadio.parentElement.style.pointerEvents = 'none';

					if (!gingerRadio.checked && !noneRadio.checked) {
						gingerRadio.checked = true;
					}
				} else if (selectedType === 'ä»™è‰') {
					// ç†± + å«©ä»™è‰å‡ï¼šåªèƒ½ã€Œéƒ½ä¸åŠ ã€ï¼ˆ#7ï¼‰
					iceYesRadio.disabled = true;
					iceYesRadio.checked = false;
					iceYesRadio.parentElement.style.opacity = '0.4';
					iceYesRadio.parentElement.style.pointerEvents = 'none';

					gingerRadio.disabled = true;
					gingerRadio.checked = false;
					gingerRadio.parentElement.style.opacity = '0.4';
					gingerRadio.parentElement.style.pointerEvents = 'none';

					noneRadio.checked = true;
				} else {
					// ç†± + å…¶ä»–ï¼ˆä¾‹å¦‚å°šæœªé¸è±†èŠ±ç¨®é¡ï¼‰ï¼šæš«æ™‚ä¸é™åˆ¶
				}
			}
		}

		// è±†èŠ±ç¨®é¡è®Šæ›´æ™‚çš„é‚è¼¯
		typeSelect.addEventListener('change', function() {
			if (this.value !== '') {
				document.getElementById('type-error').style.display = 'none';
			}
			updateToppingAvailability();
			updateTempOptions();
			updateIceGingerOptions();
		});

		// å†·/ç†±è®Šæ›´æ™‚æ›´æ–°å†°/è–‘é¸é …
		document.querySelectorAll('input[name="temp"]').forEach(radio => {
			radio.addEventListener('change', function() {
				updateIceGingerOptions();
			});
		});

		// å³æ™‚é©—è­‰é…æ–™æ•¸é‡ï¼‹ç¶­æŒè–ä»é™åˆ¶
		allToppingCheckboxes.forEach(checkbox => {
			checkbox.addEventListener('change', function() {
				const checkedCount = document.querySelectorAll('input[name="topping"]:checked').length;

				if (checkedCount >= 3) {
					allToppingCheckboxes.forEach(cb => {
						if (!cb.checked && !cb.disabled) {
							cb.disabled = true;
							cb.parentElement.style.opacity = '0.5';
						}
					});
				} else {
					allToppingCheckboxes.forEach(cb => {
						// é€™è£¡è¦æ³¨æ„å¸ƒä¸/å«©ä»™è‰çš„è–ä»é™åˆ¶
						if (cb.id !== 'barley' || (typeSelect.value !== 'å¸ƒä¸' && typeSelect.value !== 'ä»™è‰')) {
							cb.disabled = false;
							cb.parentElement.style.opacity = '1';
						}
					});
					updateToppingAvailability();
				}

				// éš±è—éŒ¯èª¤è¨Šæ¯
				if (checkedCount > 0 && checkedCount <= 3) {
					document.getElementById('topping-error').style.display = 'none';
				}
			});
		});

		// è¼¸å…¥æ¡†å³æ™‚é©—è­‰
		document.getElementById('name').addEventListener('input', function() {
			if (this.value.trim() !== '') {
				document.getElementById('name-error').style.display = 'none';
			}
		});

		// é é¢è¼‰å…¥æ™‚å…ˆè·‘ä¸€æ¬¡è¦å‰‡
		updateToppingAvailability();
		updateTempOptions();
		updateIceGingerOptions();
	</script>

</body>
</html>